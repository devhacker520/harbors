/**
 * Request需要封装的对象方法
 */

/**
 * vhost
 *
 * @param {object} req
 * @param {object} res
 * @return {object} {baseDir:xx,type:xx}
 */
exports.vhost = function(req,res){
    if(harbors.config.vhost){
        var vhost = harbors.vhost[req.headers.host.split(':')[0]];
        if(vhost){
            return vhost;
        }else{
            harbors._dev&&console.log("vhost in not found!");
            return {};
        }
    }else{
        return {
            baseDir:'default',
            type:harbors.config.serverType
        };
    }
};

/**
 * cookie
 *
 * @param {object} req
 * @param {object} res
 * @return {object} {cookie:value}
 */
exports.cookie = function(req,res){
    if(!req.headers.cookie){
        return {};
    }
    var temp = req.headers.cookie.split(";");
    var cookie = {};
    for(var i=0;i<temp.length;i++){
        var temp_2 = temp[i].split("=");
        temp_2[0] = temp_2[0].replace(/^\s*/,'');
        cookie[temp_2[0]] = temp_2[1];
    }
    return cookie;
};
