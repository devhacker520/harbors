module.exports = function(){

    var $this = this;
    if(!$this.req._path){
        $this.req._path = $this.req.url.split('?')[0].replace(/^\//,'').replace(/\/$/,'').split('/');
        $this.req.__path = $this.req._path;
    }

    var length = arguments.length;
    switch(length){
        case 0:
            return $this.req._path;
            break;
        default:
            for(var i=0;i<arguments.length;i++){
                var type = typeof(arguments[i]);
                if(type!='string' || arguments[i] != $this.req.__path[i]){
                    $this.req.__path = $this.req.__path.splice(i);
                    type=='function' && arguments[i]();
                    break;
                }
            }
    }


};