/**
 * 初始化服务器类型
 */
var Request = require('../lib/Request');
var Response = require('../lib/Response');

/**
 * 静态类型服务器
 *
 * @param {object} req
 * @param {object} res
 */
exports.static = function(req,res){
    Response.display('/'+req.vhost['baseDir']+req.url,req,res);
};

/**
 * 动态类型服务器
 * @param {object} req
 * @param {object} res
 */
exports.dynamic = function(req,res){

    res.display = function(file){
        Response.display(file,req,res);
    };

    res.setCookie = function(cookie){
        Response.setCookie(cookie,req,res)
    };

    console.log(harbors.config.baseDir+'/controller/'+req.vhost['baseDir']+'/filter');
    require(harbors.config.baseDir+'/controller/'+req.vhost['baseDir']+'/filter')(req,res);

};