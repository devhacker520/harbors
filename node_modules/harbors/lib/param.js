var querystring = require('querystring');
var _utils = require('./utils');


module.exports = function(){

    var $this = this;
    var length = arguments.length;

    if(!$this.req._param){
        //获取get参数
        var Get = {};
        var t = $this.req.url.split('?');
        if(t[1]){
            Get = querystring.parse(t[1]);
        }else{
            Get = {};
        }
        //合并post参数
        $this.req._param = _utils.merge(Get,$this.req.post);
    }

    switch(length){
        case 0:
            return $this.req._param;
            break;
        default:
            return ($this.req._param[arguments[0]]||'');
    }

};