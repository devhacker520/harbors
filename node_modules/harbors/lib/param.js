var path = require('path');
var app = {
    init:function(req,res){
        this.req = req;
        this.res = res;
        return this;
    },
    route:function(){
        var route = path.normalize(app.req.url);//格式化请求地址，如/admin/index
        return route.replace(/[\/\\]$/,'').split("/").splice(1);//[ 'news', 'index' ]
    },
    Get:function(){
        var temp = app.req.url.split("?");
        if(temp[1]){
            var Get = {};
            var temp = temp[1].split("&");
            for(var i=0;i<temp.length;i++){
                var temp_2 = temp[i].split("=");
                Get[temp_2[0]] = temp_2[1];
            }
            return Get;
        }else{return {}}//{ asdfwe: 'asdf' }
    }
};
module.exports = app;