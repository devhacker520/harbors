/**
 * 检查配置文件
 */
var path = require('path');
var os = require('os');
var error = 0;
var warning = 0;
console.log(path.join(__dirname, '/../../..'));
module.exports = {
    //服务器设置
    listenPort:function(){
        if(typeof(harbors.config.listenPort)!='number'&&typeof(harbors.config.listenPort-0)!='number'){
            console.log('config.listenPort is not number');
            error++;
        }
    },
    baseDir:function(){
        if(harbors.config.baseDir!=path.join(__dirname, '/../../..')){
            console.log('config.baseDir is lost');
            warning++
        }
    },
    clusterNum:function(){
        if(os.cpu().length<harbors.config.clusterNum){
            console.log('config.clusterNum so mach');
            warning++;
        }
    },
    //虚拟主机设置
    vhost:false,//是否开启虚拟主机服务，开启的话默认会寻找controller目录下的虚拟主机目录
    serverType:function(){
        if(harbors.config.vhost==false&&harbors.config.serverType!='dynamic'&&harbors.config.serverType!='static'){
            console.log('config.serverType is warning');
            error++;
        }
    },
    serverDir:'default',//默认工作目录
    //静态服务器配置
    staticTime:1000*60*60*24,//静态文件客户端缓存时间（默认一天）
    sraticFile:'index.html',//静态文件服务器访问文件夹地址默认寻找目录下的这个文件
    //动态服务器配置
    session:false,//是否开启服务器session(会影响性能，需要在数据库设置中开启redis)
    sessionId:'harborsId',//session存储的cookie名字
    SessionSurvavil:1000*60*60,//session信息默认客户端误操作后保留的有效时间（默认1小时）
    jade:false,//是否开启jade模板
    jadeTime:1000*60*10,//jade模板缓存时间（默认10分钟）
    //gzip设置
    gzip:false,//是否开启gzip
    gzipFile:/css|js|html|htm/ig,//执行压缩的文件类型
    //数据库设置
    redis:{
        Use:true,
        Host:'127.0.0.1'
    },
    mysql:{
        Use:false,
        Host:'127.0.0.1',//数据库地址
        User:'root',//数据库用户名
        Password:'',//数据库密码
        Database:'mysql'//链接默认数据库，以后可以使用changeDatabase方法更改
    }
};