module.exports = {
    h304:function(res){
        res.setHeader("Server", 'node harbors');
        res.writeHead(304, "Not Modified");
        res.end();
    },
    h404:function(res){
        res.setHeader("Server", 'node harbors');
        res.setHeader("Last-Modified", 0);
        res.writeHead(404, "Not found");
        res.end('Sorry, url is not found.');
    },
    h500:function(res){
        res.setHeader("Server", 'node harbors');
        res.setHeader("Last-Modified", 0);
        res.setHeader('Content-Type', 'text/plain');
        res.writeHead(500, 'Server error ');
        res.end('Sorry, the server error encountered a temporary error, please try to refresh.');
    },
    h200:function(res,html,req){
        res.setHeader("Server", 'node harbors');
        res.writeHead(200, 'Ok');
        if(html){
            res.end(html);
            //缓存
            harbors._cache[req.headers.host+req.url] = html;
            if(harbors._timeOut&&harbors._timeOut[req.headers.host+req.url]){
                clearTimeout(harbors._timeOut[req.headers.host+req.url]);
            }
            harbors._timeOut[req.headers.host+req.url] = setTimeout(function(){
                delete harbors._cache[req.headers.host+req.url];
            },10000);
        }
    }
};
